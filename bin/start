#!/bin/bash

# Get the parent directory of the current script (the project directory)
PROJECT_NAME=$(basename "$PWD")

# Sanitize the directory name (replace spaces with underscores or dashes)
SANITIZED_NAME=$(echo "$PROJECT_NAME" | sed 's/ /_/g' | tr '[:upper:]' '[:lower:]')

# Export the sanitized directory name as an environment variable (optional)
export DOCKER_PROJECT_NAME="$SANITIZED_NAME"

#Force a down to help keep things tidy!
docker compose down

# Run docker-compose from the parent directory with the sanitized project name
docker compose --project-name "$SANITIZED_NAME" up -d
